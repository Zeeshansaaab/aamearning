var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,s=(e,t)=>{for(var o in t||(t={}))n.call(t,o)&&i(e,o,t[o]);if(a)for(var o of a(t))r.call(t,o)&&i(e,o,t[o]);return e},l=(e,a)=>t(e,o(a));import{ref as u,reactive as p,computed as c,watch as d,onMounted as m,toRefs as f,openBlock as v,createElementBlock as h,normalizeClass as g,normalizeStyle as y,createElementVNode as w,renderSlot as b,resolveComponent as x,createVNode as O,withCtx as S}from"vue";const A={name:"ShaplaDropdownMenu",props:{active:{type:Boolean,default:!1},role:{type:String,default:"menu"},right:{type:Boolean,default:!1},up:{type:Boolean,default:!1},maxItems:{type:Number},direction:{type:String,default:"auto",validator:e=>-1!==["auto","up","down"].indexOf(e)}},setup(e){const t=u(null),o=p({autoClass:"",isActive:!1}),a=c((()=>{let t=[];return o.isActive&&t.push("is-active"),o.autoClass&&t.push(o.autoClass),e.right&&t.push("is-right"),(e.up||"up"===e.direction)&&t.push("is-up"),e.maxItems&&t.push("has-max-items"),t})),n=c((()=>{let t=[];return e.maxItems&&t.push({"--max-menu-items":e.maxItems}),t}));return d((()=>e.active),(a=>{o.isActive=a,a&&"auto"===e.direction&&!e.up&&(()=>{let e=t.value,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=e.parentNode,r=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,s=a-parseInt(r.top+i.pageYOffset),l=e.scrollHeight;o.autoClass=l+15<s?"is-down":"is-up"})()})),m((()=>{o.isActive=e.active})),l(s({},f(o)),{root:t,containerClass:a,containerStyle:n})}},C=["role"],I={class:"shapla-dropdown-menu__inner"},B={class:"shapla-dropdown-menu__content"};A.render=function(e,t,o,a,n,r){return v(),h("div",{class:g(["shapla-dropdown-menu",a.containerClass]),style:y(a.containerStyle),role:o.role,ref:"root"},[w("div",I,[b(e.$slots,"before-content",{direction:e.autoClass}),w("div",B,[b(e.$slots,"default")]),b(e.$slots,"after-content",{direction:e.autoClass})])],14,C)};const D={name:"ShaplaDropdown",components:{ShaplaDropdownMenu:A},props:{hoverable:{type:Boolean,default:!0},role:{type:String,default:"menu"},right:{type:Boolean,default:!1},up:{type:Boolean,default:!1},maxItems:{type:Number},direction:{type:String,default:"auto",validator:e=>-1!==["auto","up","down"].indexOf(e)}},setup(){const e=u(null),t=p({isActive:!1});return d((()=>t.isActive),(o=>{o&&document.addEventListener("click",(o=>{e.value.contains(o.target)||(t.isActive=!1)}))})),l(s({},f(t)),{root:e})}},$=["aria-expanded"];D.render=function(e,t,o,a,n,r){const i=x("shapla-dropdown-menu");return v(),h("div",{class:g(["shapla-dropdown",{"is-hoverable":o.hoverable}]),ref:"root"},[w("div",{class:"shapla-dropdown-trigger","aria-haspopup":"true","aria-expanded":e.isActive?"true":"false",onClick:t[0]||(t[0]=t=>e.isActive=!e.isActive)},[b(e.$slots,"trigger")],8,$),O(i,{active:e.isActive,role:o.role,right:o.right,up:o.up,direction:o.direction,"max-items":o.maxItems},{"before-content":S((()=>[b(e.$slots,"before-content")])),"after-content":S((()=>[b(e.$slots,"after-content")])),default:S((()=>[b(e.$slots,"default")])),_:3},8,["active","role","right","up","direction","max-items"])],2)};
/*!
 * Shapla Dropdown v1.1.0
 * (c) 2021 Sayful Islam
 * Released under the MIT License.
 */
export{D as ShaplaDropdown,A as ShaplaDropdownMenu,D as default};
//# sourceMappingURL=dropdown.es.js.map
