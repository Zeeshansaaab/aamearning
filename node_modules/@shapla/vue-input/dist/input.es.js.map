{"version":3,"file":"input.es.js","sources":["../src/ShaplaInput.vue"],"sourcesContent":["<template>\n  <div class=\"shapla-text-field\" :dir=\"direction\" :class=\"containerClasses\">\n    <div class=\"shapla-text-field__control\" :class=\"{'has-icons-right':hasRightIcon}\">\n      <textarea\n        v-if=\"isTextarea\" class=\"shapla-text-field__textarea\" :class=\"inputClasses\" :id=\"id\" :name=\"name\"\n        :value=\"modelValue\"\n        :required=\"required\" :disabled=\"disabled\" :autocomplete=\"autocomplete\" :rows=\"rows\" :readonly=\"readonly\"\n        placeholder=\"\" :dir=\"direction\" @focus=\"handleFocusEvent($event)\" @keydown=\"handleKeydownEvent($event)\"\n        @blur=\"handleBlurEvent($event)\" @input=\"handleInputEvent($event)\"/>\n      <input\n        v-if=\"!isTextarea\" class=\"shapla-text-field__input\" :class=\"inputClasses\" :type=\"type\" :id=\"id\" :name=\"name\"\n        :value=\"modelValue\" :required=\"required\" :disabled=\"disabled\" :autocomplete=\"autocomplete\" :readonly=\"readonly\"\n        :placeholder=\"placeholderText\" :dir=\"direction\" @focus=\"handleFocusEvent($event)\"\n        @keydown=\"handleKeydownEvent($event)\" @blur=\"handleBlurEvent($event)\" @input=\"handleInputEvent($event)\"/>\n      <label class=\"shapla-text-field__label\" :dir=\"direction\" :for=\"id\" v-if=\"label\" v-html=\"label\"/>\n      <slot name=\"icon-right\">\n        <span class=\"icon is-right\" v-if=\"hasSuccess\">\n          <svg class=\"icon-success\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n          </svg>\n        </span>\n        <span class=\"icon is-right\" v-if=\"hasError\">\n          <svg class=\"icon-error\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n            <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\n          </svg>\n        </span>\n      </slot>\n    </div>\n    <small class=\"shapla-text-field__help-text is-invalid\" v-if=\"showValidationText\" v-html=\"validationText\"/>\n    <small class=\"shapla-text-field__help-text\" v-if=\"showHelpText\" v-html=\"helpText\"/>\n  </div>\n</template>\n\n<script>\nimport {computed, reactive, toRefs} from 'vue'\n\nconst inputTypes = ['text', 'email', 'search', 'password', 'tel', 'url', 'number', 'textarea', 'date', 'time', 'datetime-local'];\nconst inputSizes = ['default', 'small', 'medium', 'large'];\n\nexport default {\n  name: \"ShaplaInput\",\n  props: {\n    type: {type: String, default: 'text', validator: value => (inputTypes.indexOf(value) !== -1)},\n    size: {type: String, default: 'default', validator: value => (inputSizes.indexOf(value) !== -1),},\n    modelValue: {type: [Number, String]},\n    label: {type: String, required: false},\n    placeholder: {type: String},\n    autocomplete: {type: String},\n    name: {type: String, required: false},\n    id: {type: String, required: false},\n    helpText: {type: String, required: false},\n    validationText: {type: String, required: false},\n    hasError: {type: Boolean, default: false},\n    hasSuccess: {type: Boolean, default: false},\n    disabled: {type: Boolean, default: false},\n    required: {type: Boolean, default: false},\n    readonly: {type: Boolean, default: false},\n    rows: {type: [String, Number]},\n    dir: {type: String, default: 'ltr'},\n  },\n  emits: ['update:modelValue', 'keydown', 'focus', 'blur'],\n  setup(props, {emit, slots}) {\n    const state = reactive({isHovered: false, isFocus: false});\n\n    const direction = computed(() => -1 !== ['ltr', 'rtl', 'auto'].indexOf(props.dir) ? props.dir : 'ltr')\n    const hasNoLabel = computed(() => !(props.label && props.label.length))\n    const placeholderText = computed(() => !hasNoLabel.value ? \"\" : props.placeholder)\n    const hasValue = computed(() => !(props.modelValue === null || props.modelValue === '' || props.modelValue === undefined))\n    const showValidationText = computed(() => !!(props.validationText && props.validationText.length && props.hasError))\n    const showHelpText = computed(() => !!(props.helpText && props.helpText.length))\n    const isTextarea = computed(() => (props.type === 'textarea'))\n    const hasRightIcon = computed(() => !!(slots['icon-right'] || props.hasSuccess || props.hasError))\n    const containerClasses = computed(() => {\n      let classes = [];\n      if (hasNoLabel.value) classes.push('has-no-label');\n      if (props.size !== 'default') classes.push(`is-${props.size}`);\n      if ('ltr' !== direction.value) classes.push(`is-direction-${direction.value}`);\n      return classes;\n    })\n    const inputClasses = computed(() => {\n      let classes = [];\n      if (props.hasSuccess) classes.push('is-valid');\n      if (props.hasError) classes.push('is-invalid');\n      if (hasValue.value) classes.push('has-value');\n      return classes;\n    })\n\n    const handleInputEvent = event => emit('update:modelValue', event.target.value);\n    const handleKeydownEvent = event => emit('keydown', event)\n    const handleFocusEvent = event => {\n      state.isFocus = true;\n      emit('focus', event.target.value);\n    }\n    const handleBlurEvent = event => {\n      state.isFocus = false;\n      emit('blur', event.target.value);\n    }\n\n    return {\n      ...toRefs(state), handleInputEvent, handleKeydownEvent, handleFocusEvent, handleBlurEvent,\n      containerClasses, inputClasses, direction, hasRightIcon, isTextarea, placeholderText, showValidationText,\n      showHelpText,\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"index\";\n</style>\n"],"names":["inputTypes","inputSizes","name","props","type","String","default","validator","indexOf","value","size","modelValue","Number","label","required","placeholder","autocomplete","id","helpText","validationText","hasError","Boolean","hasSuccess","disabled","readonly","rows","dir","emits","[object Object]","emit","slots","state","reactive","isHovered","isFocus","direction","computed","hasNoLabel","length","placeholderText","hasValue","showValidationText","showHelpText","isTextarea","hasRightIcon","containerClasses","classes","push","inputClasses","toRefs","handleInputEvent","event","target","handleKeydownEvent","handleFocusEvent","handleBlurEvent","key","class","xmlns","width","height","d","$props","onFocus","_cache","onKeydown","$event","onBlur","$setup","for"],"mappings":"waAsCA,MAAMA,EAAa,CAAC,OAAQ,QAAS,SAAU,WAAY,MAAO,MAAO,SAAU,WAAY,OAAQ,OAAQ,kBACzGC,EAAa,CAAC,UAAW,QAAS,SAAU,YAGhDC,KAAM,cACNC,MAAO,CACLC,KAAM,CAACA,KAAMC,OAAQC,QAAS,OAAQC,kBAAqBP,EAAWQ,QAAQC,IAC9EC,KAAM,CAACN,KAAMC,OAAQC,QAAS,UAAWC,kBAAqBN,EAAWO,QAAQC,IACjFE,WAAY,CAACP,KAAM,CAACQ,OAAQP,SAC5BQ,MAAO,CAACT,KAAMC,OAAQS,UAAU,GAChCC,YAAa,CAACX,KAAMC,QACpBW,aAAc,CAACZ,KAAMC,QACrBH,KAAM,CAACE,KAAMC,OAAQS,UAAU,GAC/BG,GAAI,CAACb,KAAMC,OAAQS,UAAU,GAC7BI,SAAU,CAACd,KAAMC,OAAQS,UAAU,GACnCK,eAAgB,CAACf,KAAMC,OAAQS,UAAU,GACzCM,SAAU,CAAChB,KAAMiB,QAASf,SAAS,GACnCgB,WAAY,CAAClB,KAAMiB,QAASf,SAAS,GACrCiB,SAAU,CAACnB,KAAMiB,QAASf,SAAS,GACnCQ,SAAU,CAACV,KAAMiB,QAASf,SAAS,GACnCkB,SAAU,CAACpB,KAAMiB,QAASf,SAAS,GACnCmB,KAAM,CAACrB,KAAM,CAACC,OAAQO,SACtBc,IAAK,CAACtB,KAAMC,OAAQC,QAAS,QAE/BqB,MAAO,CAAC,oBAAqB,UAAW,QAAS,QACjDC,MAAMzB,GAAO0B,KAACA,QAAMC,UACZC,EAAQC,EAAS,CAACC,WAAW,EAAOC,SAAS,IAE7CC,EAAYC,GAAS,SAAa,CAAC,MAAO,MAAO,QAAQ5B,QAAQL,EAAMuB,KAAOvB,EAAMuB,IAAM,QAC1FW,EAAaD,GAAS,QAAcvB,OAASV,EAAMU,MAAMyB,UACzDC,EAAkBH,GAAS,IAAOC,EAAW5B,MAAaN,EAAMY,YAAX,KACrDyB,EAAWJ,GAAS,MAA6B,SAAfzB,YAA4C,KAArBR,EAAMQ,iBAA0C,IAArBR,EAAMQ,cAC1F8B,EAAqBL,GAAS,SAAejB,gBAAkBhB,EAAMgB,eAAemB,QAAUnC,EAAMiB,YACpGsB,EAAeN,GAAS,SAAelB,WAAYf,EAAMe,SAASoB,UAClEK,EAAaP,GAAS,IAAsB,aAAfjC,EAAMC,OACnCwC,EAAeR,GAAS,SAAe,eAAiBjC,EAAMmB,YAAcnB,EAAMiB,YAClFyB,EAAmBT,GAAS,SAC5BU,EAAU,UACVT,EAAW5B,SAAesC,KAAK,gBAChB,YAAf5C,EAAMO,QAA4BqC,KAAK,MAAM5C,EAAMO,QACnD,QAAUyB,EAAU1B,SAAesC,KAAK,gBAAgBZ,EAAU1B,SAC/DqC,KAEHE,EAAeZ,GAAS,SACxBU,EAAU,UACV3C,EAAMmB,cAAoByB,KAAK,YAC/B5C,EAAMiB,YAAkB2B,KAAK,cAC7BP,EAAS/B,SAAesC,KAAK,aAC1BD,qIAeJG,EAAOlB,UADL,CACamB,oBAZcrB,EAAK,oBAAqBsB,EAAMC,OAAO3C,OAYnC4C,sBAXFxB,EAAK,UAAWsB,GAWMG,uBATlDpB,SAAU,IACX,QAASiB,EAAMC,OAAO3C,QAQ+C8C,sBALpErB,SAAU,IACX,OAAQiB,EAAMC,OAAO3C,QAK1BoC,iBAAAA,EAAkBG,aAAAA,EAAcb,UAAAA,EAAWS,aAAAA,EAAcD,WAAAA,EAAYJ,gBAAAA,EAAiBE,mBAAAA,EACtFC,aAAAA,gBAvFQc,IAAK,oCACiBC,MAAM,eAA6BC,MAAM,6BAAKC,WAAYC,4CAC1DC,0GAItBL,IAAK,oCACeC,MAAM,aAA6BC,MAAM,6BAAKC,WAAYC,4CACxDC,yMAvBFJ,mJAGpB,iCAAYD,IAAK,EAAsDC,qDAASxC,GAAI6C,KACzF5D,YACAO,mBAAqBK,SAAUgD,WAAWvC,oBAA6BP,4BAAaS,YACrFD,oBAAgBT,eAAiBW,gBAAkCqC,QAAOC,sCACzEC,8CAA4BC,IAAIC,uOAEdX,IAAK,EAAmDC,kDAAarD,OAAMA,KAAGa,GAAI6C,KACpG5D,YAAoBO,mBAAqBK,SAAUgD,WAAWvC,oBAA6BP,4BAC3FQ,oBAA+BT,8BAAiBW,gBAChDqC,QAAOC,sCAA+BC,8CAA4BC,IAAIC,8NAClEX,IAAK,EAA6BC,iCAAiB/B,IAAK0C,YAAiBC,2OAgB3Eb,IAAK,EAAqEC,2IAC1ED,IAAK,EAAoDC;;;;;;"}